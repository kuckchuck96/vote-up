<div class="container w-50 mt-5" *ngIf="voteData.vote">
    <div class="card">
        <div class="card-body">
            <h5 class="card-title">{{ voteData.vote.title }}</h5>
            <p class="card-text mb-3" *ngIf="voteData.vote.description">{{ voteData.vote.description }}</p>
            <ul class="list-group mb-3" *ngIf="voteData.voteOptions.length">
                <button type="button" class="list-group-item list-group-item-action d-flex justify-content-between"
                    *ngFor="let option of voteData.voteOptions" (click)="updateOption(option, $event)"
                    [disabled]="!voteData.vote.active || disableOptions">
                    {{ option.label}}
                    <span *ngIf="!voteData.vote.active">{{ calculatePercentageVotes(option.count, total) }}</span>
                </button>
            </ul>
            <div class="form-check form-switch mb-3">
                <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckChecked"
                    [checked]="!voteData.vote.active" [disabled]="!voteData.vote.active" 
                    data-bs-toggle="modal" data-bs-target="#passcodeModal">
                    <!-- (change)="onClose($event)" -->
                <label class="form-check-label" for="flexSwitchCheckChecked">Close Vote</label>
            </div>
            <p *ngIf="voteData.vote.active"><small><span class="small-note">*</span> Once done <b>close</b> the vote to
                    see the result.</small></p>
        </div>
    </div>
    <app-passcode-modal [id]="voteData.vote.id" (passcodeEvent)="getPasscode($event)"></app-passcode-modal>
</div>